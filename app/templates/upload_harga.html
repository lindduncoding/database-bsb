<h2 class="subtitle">Perbarui Harga Satuan (format CSV)</h2>
<form hx-post="/api/harga/upload-csv/"
      hx-target="#csv-upload-message"
      hx-swap="innerHTML"
      enctype="multipart/form-data"
      class="box mb-5">

    <div class="field">
        <label class="label">Pilih file CSV</label>
        <div class="file has-name is-fullwidth">
        <label class="file-label">
            <input 
            class="file-input" 
            type="file" 
            name="file" 
            accept=".csv" 
            onchange="showFileName(this)"
            required
            >
            <span class="file-cta">
            <span class="file-icon">
                üìÅ
            </span>
            <span class="file-label">
                Pilih File‚Ä¶
            </span>
            </span>
            <span class="file-name" id="selected-filename">
            Belum ada file
            </span>
        </label>
        </div>
    </div>

  <div class="mt-3">
    <button class="button is-primary" type="submit">Upload</button>
  </div>
</form>

<script>
  function showFileName(input) {
    const label = document.getElementById("selected-filename");
    if (input.files.length > 0) {
      label.textContent = input.files[0].name;
    } else {
      label.textContent = "Belum ada file";
    }
  }
</script>

<div id="csv-upload-message" class="mt-4"></div>

<h2 class="subtitle">Daftar Harga</h2>
<table class="table is-striped is-fullwidth">
    <thead>
        <tr>
            <th>Tipe Sampah</th>
            <th>Nama Sampah</th>
            <th>Harga Beli Satuan</th>
            <th>Harga Jual Satuan</th>
        </tr>
    </thead>
    <tbody>
        {% for item in items %}
        <tr>
            <td>{{ item.tipe_sampah }}</td>
            <td>{{ item.nama_sampah }}</td>
            <td>{{ item.satuan_beli }}</td>
            <td>{{ item.satuan_jual }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>